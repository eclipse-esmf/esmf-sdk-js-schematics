<ng-container *transloco="let t">
  @if (activeFilters().length) {
    <div class="scrollable-chips-container">
      @if (chipsScrollEl.scrollable) {
        <button
          data-test="scroll-left-button"
          mat-mini-fab
          class="mat-elevation-z0"
          [disabled]="chipsScrollEl.disableLeftBtn"
          (click)="chipsScrollEl.scrollChipList('left')"
        >
          <mat-icon data-test="scroll-left-icon" class="material-icons" [matTooltip]="t('scroll.left')">
            chevron_left
          </mat-icon>
        </button>
      }
      <div
        class="chip-list-container"
        data-test="chip-list-container"
        esmfHorizontalOverflow
        #chipsScrollEl="horizontalOverflow"
        #chipList
        [chipsObj]="chips"
      >
        <mat-chip-listbox data-test="chip-list" #chips>
          @for (filter of activeFilters(); track filter) {
            <mat-chip-option
              data-test="chip"
              [removable]="filter.removable"
              (removed)="triggerRemoveFilter(filter)"
            >
              <div data-test="chip-text" class="chip-text" matTooltip="{{ chipListValue(filter) }}">
                {{ chipListValue(filter) }}
              </div>
              @if (filter.removable) {
                <button matChipRemove data-test="mat-chip-remove">
                  <mat-icon class="material-icons" data-test="remove-chip">cancel</mat-icon>
                </button>
              }
            </mat-chip-option>
          }
        </mat-chip-listbox>
      </div>
      @if (chipsScrollEl.scrollable) {
        <button
          data-test="scroll-right-button"
          mat-mini-fab
          class="mat-elevation-z0"
          [disabled]="chipsScrollEl.disableRightBtn"
          (click)="chipsScrollEl.scrollChipList('right')"
        >
          <mat-icon data-test="scroll-right-icon" class="material-icons" [matTooltip]="t('scroll.left')">
            chevron_right
          </mat-icon>
        </button>
      }
    </div>
  }
</ng-container>
